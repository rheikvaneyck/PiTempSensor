<!DOCTYPE html>
<head>
<!--[if lt IE 9]><script language="javascript" type="text/javascript" src="../src/excanvas.min.js"></script><![endif]-->

  <script language="javascript" type="text/javascript" src="js/jquery.min.js"></script>
  <script language="javascript" type="text/javascript" src="js/jquery.jqplot.min.js"></script>
  <script language="javascript" type="text/javascript" src="js/plugins/jqplot.json2.min.js"></script>
  <script language="javascript" type="text/javascript" src="js/plugins/jqplot.canvasTextRenderer.min.js"></script>
  <script language="javascript" type="text/javascript" src="js/plugins/jqplot.dateAxisRenderer.min.js"></script>
  <script language="javascript" type="text/javascript" src="js/plugins/jqplot.canvasAxisLabelRenderer.min.js"></script>
  <script language="javascript" type="text/javascript" src="js/plugins/jqplot.categoryAxisRenderer.min.js"></script>
  <script language="javascript" type="text/javascript" src="js/plugins/jqplot.canvasAxisTickRenderer.min.js"></script>


  <title>Charts | jqPlot</title>
  <link rel="stylesheet" type="text/css" href="css/jquery.jqplot.min.css" />
</script>
<script class="code" type="text/javascript">

$(document).ready(function(){
  // Our ajax data renderer which here retrieves a text file.
  // it could contact any source and pull data, however.
  // The options argument isn't used in this renderer.
  var ajaxDataRenderer = function(url, plot, options) {
    var ret = null;
    $.ajax({
      // have to use synchronous here, else the function
      // will return before the data is fetched
      async: false,
      url: url,
      dataType:"json",
      success: function(data) {
        ret = data;
      }
    });
    return ret;
  };
 
  // The url for our json data
  var jsonurl = "data/status.json";
 
  // passing in the url string as the jqPlot data argument is a handy
  // shortcut for our renderer.  You could also have used the
  // "dataRendererOptions" option to pass in the url.
  var plot1 = $.jqplot('chart1', jsonurl,{
    dataRenderer: ajaxDataRenderer,
    dataRendererOptions: {
      unusedOptionalUrl: jsonurl
    },
    seriesDefaults:{
        linePattern: 'solid',
        rendererOptions: {
          smooth: true
        }
    },
    title: 'CPU Temperature',
    axes:{
      xaxis:{
        renderer: $.jqplot.DateAxisRenderer,
        tickOptions:{formatString:'%H:%M'},
        min:"December 30, 2013 7:55AM", 
        tickInterval:'10 minutes'
      },
      yaxis: {
          label: 'Temperature (C)',
          labelRenderer: $.jqplot.CanvasAxisLabelRenderer
      }
    },
    series:[{lineWidth:3, markerOptions:{style:'circle'}}]
  });
});
</script>


</script>
<style type="text/css">
#header {
  height: 30px;
  width: 900px;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 10px;
  background-color: #a0a0d0;
  padding-top: 5px;
}
#header p {
  margin: 0px;
  padding: 0px;
  font-family: sans-serif;
  color: white;
}
#main {
  border: 1px solid #ccccc2;
  width: 900px;
  height: 500px;
  margin: auto;
}
#chart1 {
  height:400px;
  width:800px;
  margin: auto;
}
</style>
</head>
<body>
  <div id="header">
    <p align="center">Raspberry Pi Temperature</p>
  </div>
  <div id="main">
    <div id="chart1"></div>
  </div>
</body>
</html>
